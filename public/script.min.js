function toggleFavorite(e){(isFavorite(e)?removeFavorite:addFavorite)(e)}function isFavorite(e){var t=localStorage.getItem("favorites"),t=null==t?[]:JSON.parse(t);return t.includes(e)}function addFavorite(e){try{var t,i;isLogged()&&(t=localStorage.getItem("favorites"),i=[],(i=null!==t?JSON.parse(t):i).push(e),localStorage.setItem("favorites",JSON.stringify(i)),document.getElementById("favorite_"+e).innerHTML="❤")}catch(e){console.error("Error al agregar favorito")}}function removeFavorite(e){try{var t,i,o;isLogged()&&(o=(i=null==(t=localStorage.getItem("favorites"))?[]:JSON.parse(t)).indexOf(e),i.splice(o,1),localStorage.setItem("favorites",JSON.stringify(i)),document.getElementById("favorite_"+e).innerHTML="")}catch(e){console.error("Error al agregar favorito")}}var items=[{title:"Stratocaster",subtitle:"Fender - USA",imageUrl:"img/stratocaster.jpg"},{title:"Telecaster",subtitle:"Fender - USA",imageUrl:"img/telecaster.jpg"},{title:"Jaguar",subtitle:"Fender - USA",imageUrl:"img/jaguar.jpg"},{title:"Super Strat",subtitle:"Ibanez/Jackson - Japan/USA",imageUrl:"img/superStratocaster.jpg"},{title:"Les Paul",subtitle:"Gibson - USA",imageUrl:"img/lesPaul.jpg"},{title:"SG",subtitle:"Gibson - USA",imageUrl:"img/SG.jpg"},{title:"Flying V",subtitle:"Gibson - USA",imageUrl:"img/flyingV.jpg"},{title:"Explorer",subtitle:"Gibson - USA",imageUrl:"img/explorer.jpg"}],watchFavorites=!1;function fillList(){var e=document.getElementById("favorites-btn"),t=document.getElementById("list-title");watchFavorites&&isLogged()?fillFavoriteList():(fillAllList(),isLogged()&&(e.innerHTML="Ver Favoritos",t.innerHTML="Listado Completo"))}function toggleFavoritesList(){watchFavorites=!watchFavorites;const e=document.querySelector("#list-title");e.textContent="Lista de favoritos";const t=document.querySelector("#favorites-btn");t.innerHTML="Ver todo",fillList()}function fillAllList(){for(document.getElementById("items").innerHTML="",i=0;i<items.length;i++){var e=items[i];addItem(e,isFavorite(e.title))}}function fillFavoriteList(){for(document.getElementById("items").innerHTML="",i=0;i<items.length;i++){var e=items[i],t=isFavorite(e.title);t&&addItem(e,t)}}function addItem(e,t){isLogged()||(t=!1),document.getElementById("items").insertAdjacentHTML("beforeend",'<div class="col-lg-3 col-sm-6" onclick="toggleFavorite(\''+e.title+'\')">  <div class="items__item hover__box">    <div class="items__thumb hover__box__thumb">      <a title="'+e.title+'">        <img src="'+e.imageUrl+'" alt="'+e.title+'">      </a>    </div>    <h1 class="items__name" id="favorite_'+e.title+'">'+favoriteIcon(t)+'</h1>    <div class="items__info">      <h3 class="items__capital">'+e.title+'</h3>      <p class="items__number">'+e.subtitle+"</p>    </div>  </div></div>")}function favoriteIcon(e){return e?"❤":""}document.addEventListener("DOMContentLoaded",function(){fillList()},!1);var baseUrl=window.location.origin;function searchQuote(){var i=document.getElementById("quoteText"),o=document.getElementById("authorText");fetch(baseUrl+"/random-quote").then(function(e){return e.text()}).then(function(e){var{text:t,author:e}=JSON.parse(e);i.textContent=t,o.textContent=e}).catch(function(e){o.textContent="-"})}function login(){var e=document.getElementById("user"),t=document.getElementById("password"),i=document.getElementById("login-error");i.innerHTML="","crehana"===e.value&&"crehana123"===t.value?(localStorage.setItem("loggedUser",e.value),location.reload()):i.innerHTML="Usuario o contraseña incorrecta."}function isLogged(){return null!==localStorage.getItem("loggedUser")}function loadSession(){var e=document.getElementById("login-btn"),t=document.getElementById("logout-btn"),i=document.getElementById("favorites-btn"),o=document.getElementById("list-title");isLogged()?(e.innerHTML="",t.innerHTML="Cerrar Sesión",i.innerHTML="Ver Favoritos",o.innerHTML="Listado Completo"):(e.innerHTML="Iniciar Sesión",t.innerHTML="",i.innerHTML="")}function logout(){localStorage.removeItem("loggedUser"),location.reload()}document.addEventListener("DOMContentLoaded",function(){searchQuote()},!1),document.addEventListener("DOMContentLoaded",function(){loadSession()},!1);